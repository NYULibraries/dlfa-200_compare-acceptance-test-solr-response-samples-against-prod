# Overview

See DLFA-200: [v1 indexer: compare acceptance test Solr response samples against prod](https://jira.nyu.edu/browse/DLFA-200).

# Scripts

* _diff-report.html_: generates an HTML file with links to resources to help
                      analyze diff reports in _diffs/_
* _diff-samples.sh_: generates diff files in _diffs/_
* _fetch-samples.sh_: fetches responses from acceptance test and prod Solr instances

# Output directories

* _diffs/_: diff reports generated by _diff-samples.sh_
* _local/_: responses from acceptance test Solr
  * EAD files version: https://github.com/NYULibraries/findingaids_eads_v2/tree/b666767ce36d7cb2e2941fc73f53fbfbfe7b1ce6
* _prod/_: responses from prod Solr
  * EAD files version: https://github.com/NYULibraries/findingaids_eads_v2/commit/af58bdcecdfd5376e53f1e7b78f4dda81358fae6

# List files

* _exclude-list.txt_: contains EAD IDs to be excluded from diff'ing because they
                      were modified in prod after the full indexing to local was
                      completed
* _list.txt_: list of EAD IDs to fetch samples for from the local and prod Solr
              instances

---

# Results

* [cbh/arms\_1977\_407\_cary: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/cbh/arms_1977_407_cary.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod: [Updating file cbh/arms\_1977\_407\_cary\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/d114bc13942eb8b8e7fbcff651e9a8705e3053c0)
* [cbh/arms\_1977\_409\_weed\_ayers: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/cbh/arms_1977_409_weed_ayers.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod: [Updating file cbh/arms\_1977\_409\_weed\_ayers\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/5b7fd8bec5b4877f001f893d84aae0ed1c614d07)
* [cbh/arms\_1977\_404\_goater: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/cbh/arms_1977_404_goater.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod:[Updating file cbh/arms\_1977\_404\_goater\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/034d184af980a056c638bd3ccbc699d489ff0afb)
* [cbh/arms\_1977\_405\_covert\_hoogland: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/cbh/arms_1977_405_covert_hoogland.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod: [Updating file cbh/arms\_1977\_405\_covert\_hoogland\.xml, Updating file cbh/arms\_1977\_406\_garretson\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/98b3d5b4b799477d20f1f949d66740e106aab345)
  * Note that two EAD files were updated in this commit.  The changes made to
    [cbh/arms\_1977\_406\_garretson\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/98b3d5b4b799477d20f1f949d66740e106aab345#diff-fa4dd128c94b0252ecb9a4994d0eed7eb177b681112d1f3dd72d06b1e6ef0636)
    were apparently not significant to the FAB Solr index.  Here is the prod
    Solr response that was captured for it:
    [prod/cbh/arms_1977_406_garretson.json](https://raw.githubusercontent.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/develop/prod/cbh/arms_1977_406_garretson.json)
* [cbh/arms\_1978\_178\_newtown\_poll: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/cbh/arms_1978_178_newtown_poll.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod: [Updating file cbh/arms\_1978\_178\_newtown\_poll\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/35c69f928bf33311356b1e6ae6fe76a1598d9b48)
* [tamwag/wag\_026: diff](https://github.com/NYULibraries/dlfa-200_compare-acceptance-test-solr-response-samples-against-prod/blob/develop/diffs/tamwag/wag_026.json)
  * Local is correct, prod is outdated.  This update apparently failed in prod: [Updating file tamwag/wag\_026\.xml](https://github.com/NYULibraries/findingaids_eads_v2/commit/0ebc00e6add5304672491ae8dda71f45de3f185d)
